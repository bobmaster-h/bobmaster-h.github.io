<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šè§†é¢‘æ’­æ”¾å™¨</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 1000px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            margin: 20px 0;
        }
        
        .player-header {
            background: linear-gradient(to right, #4CAF50, #45a049);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .player-header h1 {
            margin: 0;
            font-size: 28px;
        }
        
        .current-video {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        .video-container {
            padding: 20px;
            background-color: #222;
            position: relative;
        }
        
        video {
            width: 100%;
            height: auto;
            border-radius: 8px;
            display: block;
            max-height: 500px;
            background-color: #000;
        }
        
        .video-controls {
            display: flex;
            justify-content: space-between;
            padding: 15px 20px;
            background-color: #f8f9fa;
            border-top: 1px solid #e9ecef;
        }
        
        .nav-controls {
            display: flex;
            gap: 10px;
        }
        
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .prev-btn {
            background-color: #ff9800;
            color: white;
        }
        
        .next-btn {
            background-color: #2196F3;
            color: white;
        }
        
        .play-btn {
            background-color: #4CAF50;
            color: white;
        }
        
        .pause-btn {
            background-color: #f44336;
            color: white;
        }
        
        .fullscreen-btn {
            background-color: #9C27B0;
            color: white;
        }
        
        .video-list-container {
            padding: 20px;
            background-color: #f8f9fa;
            border-top: 1px solid #e9ecef;
        }
        
        .video-list-title {
            margin-bottom: 15px;
            color: #333;
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .video-list {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: white;
        }
        
        .video-item {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background-color 0.2s;
            display: flex;
            justify-content: space-between;
        }
        
        .video-item:hover {
            background-color: #f0f0f0;
        }
        
        .video-item.active {
            background-color: #e3f2fd;
            border-left: 4px solid #2196F3;
            font-weight: bold;
        }
        
        .video-index {
            background-color: #4CAF50;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        .progress-container {
            padding: 0 20px 20px;
            background-color: #f8f9fa;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.3s;
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #666;
        }
        
        .error-message {
            background-color: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 5px;
            margin: 20px;
            display: none;
        }
        
        .instructions {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            max-width: 1000px;
            margin-top: 20px;
        }
        
        .instructions h3 {
            color: #333;
            margin-top: 0;
        }
        
        .instructions ul {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .video-info {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            color: #aaa;
            font-size: 14px;
        }
        
        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡ */
        .video-list::-webkit-scrollbar {
            width: 8px;
        }
        
        .video-list::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .video-list::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        
        .video-list::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="player-header">
            <h1>å¤šè§†é¢‘æ’­æ”¾å™¨</h1>
            <div class="current-video" id="currentVideoTitle">æ­£åœ¨æ’­æ”¾: /TG-2025-05-09-225147363.mp4</div>
        </div>
        
        <div class="error-message" id="errorMessage"></div>
        
        <div class="video-container">
            <video id="myVideo" controls>
                <source src="/TG-2025-05-09-225147363.mp4" type="video/mp4">
                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ï¼Œè¯·å‡çº§æµè§ˆå™¨ã€‚
            </video>
            <div class="video-info">
                <span id="videoResolution">åˆ†è¾¨ç‡: -</span>
                <span id="videoDuration">æ—¶é•¿: -</span>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="time-display">
                <span id="currentTime">0:00</span>
                <span id="totalTime">0:00</span>
            </div>
        </div>
        
        <div class="video-controls">
            <div class="nav-controls">
                <button class="prev-btn" onclick="prevVideo()">
                    <span>â—€</span> ä¸Šä¸€ä¸ª
                </button>
                <button class="next-btn" onclick="nextVideo()">
                    ä¸‹ä¸€ä¸ª <span>â–¶</span>
                </button>
            </div>
            
            <div class="playback-controls">
                <button class="play-btn" onclick="playVideo()">
                    <span>â–¶</span> æ’­æ”¾
                </button>
                <button class="pause-btn" onclick="pauseVideo()">
                    <span>â¸</span> æš‚åœ
                </button>
                <button class="fullscreen-btn" onclick="fullscreenVideo()">
                    <span>â›¶</span> å…¨å±
                </button>
            </div>
        </div>
        
        <div class="video-list-container">
            <div class="video-list-title">
                <span>ğŸ“ è§†é¢‘åˆ—è¡¨ (å…± <span id="videoCount">5</span> ä¸ªè§†é¢‘)</span>
            </div>
            <div class="video-list" id="videoList">
                <!-- è§†é¢‘åˆ—è¡¨ä¼šåœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>
    
    <div class="instructions">
        <h3>ä½¿ç”¨è¯´æ˜ï¼š</h3>
        <ul>
            <li>ç‚¹å‡»è§†é¢‘åˆ—è¡¨ä¸­çš„ä»»æ„è§†é¢‘å¯ä»¥ç›´æ¥æ’­æ”¾</li>
            <li>ä½¿ç”¨"ä¸Šä¸€ä¸ª"å’Œ"ä¸‹ä¸€ä¸ª"æŒ‰é’®åˆ‡æ¢è§†é¢‘</li>
            <li>æ·»åŠ æ›´å¤šè§†é¢‘ï¼šåœ¨ä»£ç ä¸­æ‰¾åˆ°videoPathsæ•°ç»„ï¼ŒæŒ‰ç…§æ ¼å¼æ·»åŠ è§†é¢‘è·¯å¾„</li>
            <li>ç¡®ä¿è§†é¢‘æ–‡ä»¶è·¯å¾„æ­£ç¡®ï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºé”™è¯¯</li>
            <li>è§†é¢‘ä¼šè‡ªåŠ¨æŒ‰é¡ºåºå¾ªç¯æ’­æ”¾</li>
        </ul>
    </div>
    
    <script>
        // è§†é¢‘è·¯å¾„æ•°ç»„ - å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ›´å¤šè§†é¢‘
        const videoPaths = [
            "/TG-2025-05-09-225147363.mp4",  // é»˜è®¤ç¬¬ä¸€ä¸ª
            "/TG-2025-12-18-193008678.mp4",
            "/videos/sample-video-1.mp4",
            "/videos/sample-video-2.mp4",
            "/media/clip-2025-04-15.mp4",
            "/TG-2025-06-22-184523789.mp4",
            "/recordings/meeting-2025-03-10.mp4"
        ];
        
        // è§†é¢‘æ ‡é¢˜ï¼ˆå¯é€‰ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ˜¾ç¤ºæ–‡ä»¶åï¼‰
        const videoTitles = [
            "è§†é¢‘1: 2025å¹´5æœˆ9æ—¥è®°å½•",
            "è§†é¢‘2: 2025å¹´12æœˆ18æ—¥è®°å½•",
            "ç¤ºä¾‹è§†é¢‘1",
            "ç¤ºä¾‹è§†é¢‘2",
            "2025å¹´4æœˆ15æ—¥å‰ªè¾‘",
            "2025å¹´6æœˆ22æ—¥è®°å½•",
            "2025å¹´3æœˆ10æ—¥ä¼šè®®è®°å½•"
        ];
        
        // è·å–DOMå…ƒç´ 
        const video = document.getElementById('myVideo');
        const currentVideoTitle = document.getElementById('currentVideoTitle');
        const videoList = document.getElementById('videoList');
        const errorMessage = document.getElementById('errorMessage');
        const videoCount = document.getElementById('videoCount');
        const progressFill = document.getElementById('progressFill');
        const currentTime = document.getElementById('currentTime');
        const totalTime = document.getElementById('totalTime');
        const videoResolution = document.getElementById('videoResolution');
        const videoDuration = document.getElementById('videoDuration');
        
        let currentVideoIndex = 0;
        
        // åˆå§‹åŒ–è§†é¢‘åˆ—è¡¨
        function initVideoList() {
            videoList.innerHTML = '';
            videoCount.textContent = videoPaths.length;
            
            videoPaths.forEach((path, index) => {
                const videoItem = document.createElement('div');
                videoItem.className = `video-item ${index === currentVideoIndex ? 'active' : ''}`;
                videoItem.onclick = () => loadVideo(index);
                
                const videoName = path.split('/').pop(); // è·å–æ–‡ä»¶å
                const title = videoTitles[index] || `è§†é¢‘ ${index + 1}: ${videoName}`;
                
                videoItem.innerHTML = `
                    <div>
                        <strong>${title}</strong><br>
                        <small style="color: #666;">${path}</small>
                    </div>
                    <div class="video-index">${index + 1}</div>
                `;
                
                videoList.appendChild(videoItem);
            });
        }
        
        // åŠ è½½æŒ‡å®šç´¢å¼•çš„è§†é¢‘
        function loadVideo(index) {
            // è¾¹ç•Œæ£€æŸ¥
            if (index < 0) index = videoPaths.length - 1;
            if (index >= videoPaths.length) index = 0;
            
            currentVideoIndex = index;
            const videoPath = videoPaths[index];
            const title = videoTitles[index] || `è§†é¢‘ ${index + 1}: ${videoPath.split('/').pop()}`;
            
            // æ›´æ–°UI
            currentVideoTitle.textContent = `æ­£åœ¨æ’­æ”¾: ${title}`;
            
            // æ›´æ–°è§†é¢‘åˆ—è¡¨æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.video-item').forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });
            
            // åŠ è½½æ–°è§†é¢‘
            video.src = videoPath;
            video.load();
            
            // éšè—é”™è¯¯æ¶ˆæ¯
            errorMessage.style.display = 'none';
            
            // å°è¯•æ’­æ”¾
            video.play().catch(e => {
                console.log("è‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œç­‰å¾…ç”¨æˆ·äº¤äº’", e);
            });
        }
        
        // ä¸Šä¸€ä¸ªè§†é¢‘
        function prevVideo() {
            loadVideo(currentVideoIndex - 1);
        }
        
        // ä¸‹ä¸€ä¸ªè§†é¢‘
        function nextVideo() {
            loadVideo(currentVideoIndex + 1);
        }
        
        // æ’­æ”¾è§†é¢‘
        function playVideo() {
            video.play();
        }
        
        // æš‚åœè§†é¢‘
        function pauseVideo() {
            video.pause();
        }
        
        // å…¨å±
        function fullscreenVideo() {
            if (video.requestFullscreen) {
                video.requestFullscreen();
            } else if (video.mozRequestFullScreen) {
                video.mozRequestFullScreen();
            } else if (video.webkitRequestFullscreen) {
                video.webkitRequestFullscreen();
            } else if (video.msRequestFullscreen) {
                video.msRequestFullscreen();
            }
        }
        
        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            if (video.duration) {
                const percent = (video.currentTime / video.duration) * 100;
                progressFill.style.width = `${percent}%`;
                
                // æ›´æ–°æ—¶é—´æ˜¾ç¤º
                currentTime.textContent = formatTime(video.currentTime);
                totalTime.textContent = formatTime(video.duration);
            }
        }
        
        // æ ¼å¼åŒ–æ—¶é—´ (ç§’ -> MM:SS)
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }
        
        // è§†é¢‘åŠ è½½é”™è¯¯å¤„ç†
        video.addEventListener('error', function() {
            errorMessage.innerHTML = `
                <strong>è§†é¢‘åŠ è½½é”™è¯¯</strong><br>
                æ— æ³•åŠ è½½è§†é¢‘: ${videoPaths[currentVideoIndex]}<br>
                è¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œæˆ–è€…è§†é¢‘æ–‡ä»¶æ˜¯å¦å­˜åœ¨ã€‚
            `;
            errorMessage.style.display = 'block';
        });
        
        // è§†é¢‘åŠ è½½æˆåŠŸ
        video.addEventListener('loadedmetadata', function() {
            // æ˜¾ç¤ºè§†é¢‘ä¿¡æ¯
            videoResolution.textContent = `åˆ†è¾¨ç‡: ${video.videoWidth} Ã— ${video.videoHeight}`;
            videoDuration.textContent = `æ—¶é•¿: ${formatTime(video.duration)}`;
            
            // æ›´æ–°æ€»æ—¶é—´æ˜¾ç¤º
            totalTime.textContent = formatTime(video.duration);
        });
        
        // è§†é¢‘æ’­æ”¾æ—¶æ›´æ–°è¿›åº¦æ¡
        video.addEventListener('timeupdate', updateProgress);
        
        // è§†é¢‘ç»“æŸæ—¶è‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€ä¸ª
        video.addEventListener('ended', function() {
            // å»¶è¿Ÿä¸€ä¸‹ï¼Œè®©ç”¨æˆ·çœ‹åˆ°è§†é¢‘ç»“æŸ
            setTimeout(() => {
                nextVideo();
            }, 1000);
        });
        
        // åˆå§‹åŒ–
        function init() {
            initVideoList();
            loadVideo(0);
            
            // æ·»åŠ é”®ç›˜å¿«æ·é”®
            document.addEventListener('keydown', (e) => {
                // ç©ºæ ¼é”®: æ’­æ”¾/æš‚åœ
                if (e.code === 'Space') {
                    e.preventDefault();
                    if (video.paused) {
                        playVideo();
                    } else {
                        pauseVideo();
                    }
                }
                // å·¦ç®­å¤´: ä¸Šä¸€ä¸ªè§†é¢‘
                else if (e.code === 'ArrowLeft') {
                    prevVideo();
                }
                // å³ç®­å¤´: ä¸‹ä¸€ä¸ªè§†é¢‘
                else if (e.code === 'ArrowRight') {
                    nextVideo();
                }
                // Fé”®: å…¨å±
                else if (e.code === 'KeyF') {
                    fullscreenVideo();
                }
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = init;
    </script>
</body>
</html>
